{% extends "layout.html" %}
{% block content %}
<h2>리뷰 수정</h2>
<form method="POST" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="rating" class="form-label">별점 (1~5)</label>
        <input type="number" class="form-control" id="rating" name="rating" min="1" max="5" value="{{ review.rating }}" required>
    </div>
    <div class="mb-3">
        <label for="content" class="form-label">내용</label>
        <textarea class="form-control" id="content" name="content" rows="4" required>{{ review.content }}</textarea>
    </div>
    <div class="mb-3">
        <label for="image" class="form-label">이미지 업로드</label>
        <input type="file" class="form-control" id="image" name="image">
        {% if review.image %}
            <div class="mt-2">
                <p>현재 이미지</p>
                <img src="{{ url_for('static', filename='uploads/' ~ review.image) }}" class="img-fluid mb-2" style="max-height: 200px;">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="1" id="delete_image" name="delete_image">
                    <label class="form-check-label" for="delete_image">
                        기존 이미지 삭제
                    </label>
                </div>
            </div>
        {% endif %}
    </div>
    <div class="text-end">
        <button type="submit" class="btn btn-primary">수정 완료</button>
        <a href="{{ url_for('view_review', review_id=review.id) }}" class="btn btn-secondary">취소</a>
    </div>
</form>
{% endblock %}